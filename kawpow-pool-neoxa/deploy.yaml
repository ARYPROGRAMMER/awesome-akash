---
version: "2.0"

services:
  kawpow-pool:
    image: cryptoandcoffee/akash-kawpow-pool:8
    expose:
      - port: 17117
        to:
          - service: neoxa
      - port: 8788
        to:
          - global: true
      - port: 8080
        as: 80
        to:
          - global: true
      - port: 10001
        as: 10001
        to:
          - global: true
    env:
      - RAVEN_ENABLE=false
      - NEOXA_ENABLE=true
      - MEOWCOIN_ENABLE=false
      - WALLET=
      - FEE_WALLET=
      - FEE_AMOUNT=0.1
      - DAEMON_HOST=neoxa
      - DAEMON_PORT=9766
      - DAEMON_USER=user1
      - DAEMON_PASS=pass1
  neoxa:
    image: cryptoandcoffee/akash-neoxa:7
    expose:
      - port: 9766
        to:
          - service: kawpow-pool
    env:
      - PRIVATE_KEY=
profiles:
  compute:
    kawpow-pool:
      resources:
        cpu:
          units: 2
          #Min 0.01 / Max 256 cpu.units
        memory:
          size: 4Gi
          #Min 8Gi for kawpow-pool / Max 512Gi
        storage:
          size: 32Gi
          #Current blockchain size is > 144Gi
          #Max 32Ti
    neoxa:
      resources:
        cpu:
          units: 2
          #Min 0.01 / Max 256 cpu.units
        memory:
          size: 4Gi
          #Min 8Gi for kawpow-pool / Max 512Gi
        storage:
          size: 16Gi
          #Current blockchain size is > 144Gi
          #Max 32Ti
  placement:
    akash:
      #######################################################
      #Keep this section to deploy on trusted providers
      #######################################################
      #Remove this section to deploy on untrusted providers
      #Beware* You may have deployment, security, or other issues on untrusted providers
      #https://docs.akash.network/providers/akash-audited-attributes
      pricing:
        kawpow-pool:
          denom: uakt
          amount: 10000 #Keep high to show all bids
        neoxa:
          denom: uakt
          amount: 10000 #Keep high to show all bids
deployment:
  kawpow-pool:
    akash:
      profile: kawpow-pool
      count: 1
  neoxa:
    akash:
      profile: neoxa
      count: 1
